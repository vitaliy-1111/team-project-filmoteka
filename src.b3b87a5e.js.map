{"version":3,"sources":["JS/header/header.js","js/team-modal.js","js/gallery/fetch-gallery.js","js/gallery/genres.js","js/gallery/gallery-tpl.js","js/gallery/render-page-gall.js","index.js"],"names":["refs","home","document","querySelector","library","header","onLibrary","e","preventDefault","innerHTML","markupLibrary","console","log","addEventListener","onHome","markupHome","body","modalBtn","modalOverlay","footerTeamOpenModal","openModal","classList","add","remove","closeModal","removeEventListener","keyAPI","fetchMovies","fetch","then","resp","json","allGenres","id","name","renderGenres","itemsId","newGenre","map","genre","push","join","cardList","contentText","MoviesCards","results","markup","title","poster_path","release_date","genre_ids","renderStartPage","response"],"mappings":"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","file":"src.b3b87a5e.js","sourceRoot":"../src","sourcesContent":["const refs = {\n  home: document.querySelector('.menu__list-link--home'),\n  library: document.querySelector('.menu__list-link--library'),\n  header: document.querySelector('.page-header'),\n};\n\nrefs.library.addEventListener('click', onLibrary);\nrefs.home.addEventListener('click', onHome);\n\nfunction onLibrary(e) {\n  e.preventDefault();\n  refs.header.innerHTML = markupLibrary();\n  console.log('onLibrary');\n  document.querySelector('.menu__list-link--library').addEventListener('click', onLibrary);\n  document.querySelector('.menu__list-link--home').addEventListener('click', onHome);\n}\n\nfunction onHome(e) {\n  e.preventDefault();\n  refs.header.innerHTML = markupHome();\n  console.log('onHome');\n  document.querySelector('.menu__list-link--home').addEventListener('click', onHome);\n  document.querySelector('.menu__list-link--library').addEventListener('click', onLibrary);\n}\n\nfunction markupLibrary() {\n  return `<div class=\"container library-page-header__container\">\n    <div class=\"menu\">\n      <a href=\"\" class=\"logo link\">\n        <svg width=\"24\" height=\"24\">\n          <use href=\"./images/icons.svg#logo\"></use>\n        </svg>\n        <span class=\"logo_label\">Filmoteka</span>\n      </a>\n      <ul class=\"menu__list\">\n        <li class=\"menu__list-item\">\n          <a href=\"\" class=\"menu__list-link menu__list-link--home  link\"\n            >Home</a>\n        </li>\n        <li class=\"menu__list-item\">\n          <a href=\"\" class=\"menu__list-link menu__list-link--library menu__list-link--current link\">My library</a>\n        </li>\n      </ul>\n    </div>\n    <div class=\"btn-box\">\n      <button class=\"library-btn\">Watched</button>\n      <button class=\"library-btn\">Queue</button>\n    </div>\n  </div>`;\n}\n\nfunction markupHome() {\n  return `<div class=\"container page-header__container\">\n    <div class=\"menu\">\n      <a href=\"/\" class=\"logo link\">\n        <svg width=\"24\" height=\"24\">\n          <use href=\"./images/icons.svg#logo\"></use>\n        </svg>\n        <span class=\"logo_label\">Filmoteka</span>\n      </a>\n      <ul class=\"menu__list list\">\n        <li class=\"menu__list-item\">\n         <a href=\"\" class=\"menu__list-link menu__list-link--home menu__list-link--current link\"\n            >Home</a>\n        </li>\n        <li class=\"menu__list-item\">\n          <a href=\"\" class=\"menu__list-link menu__list-link--library link\">My library</a>\n        </li>\n      </ul>\n    </div>\n    <div class=\"form-box\">\n      <form class=\"form\">\n        <svg class=\"form__icon\" width=\"12\" height=\"12\">\n          <use href=\"./images/icons.svg#search\"></use>\n        </svg>\n        <input type=\"text\" name=\"text\" class=\"search\" placeholder=\"Поиск фильмов\" />\n      </form>\n      <span class=\"form__error-message\"></span>\n    </div>\n  </div>`;\n}\n","const refs = {\n  body: document.querySelector('body'),\n  modalBtn: document.querySelector('.icon-close'),\n  modalOverlay: document.querySelector('.modal-overlay'),\n  footerTeamOpenModal: document.querySelector('.footer-link'),\n\n}\n\nrefs.footerTeamOpenModal.addEventListener('click', openModal);\n\nfunction openModal() {\n  refs.body.classList.add('onOpenModal');\n  refs.modalOverlay.classList.remove('is-hidden');\n  refs.modalBtn.addEventListener('click', closeModal);\n}\n  \nfunction closeModal () {\n  refs.body.classList.remove('onOpenModal');\n  refs.modalOverlay.classList.add('is-hidden');\n  refs.modalBtn.removeEventListener('click', closeModal);\n}","const keyAPI = '89b7d98b05de36091af2815feb76deb7'\n\n\n\nexport function fetchMovies() {\n    return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${keyAPI}`)\n        .then(resp => resp.json())        \n}\n\n \n\n\n\n\n","export const allGenres = [\n{id: 28, name: 'Action'},\n{id: 12, name: 'Adventure'},\n{id: 16, name: 'Animation'},\n{id: 35, name: 'Comedy'},\n{id: 80, name: 'Crime'},\n{id: 99, name: 'Documentary'},\n{id: 18, name: 'Drama'},\n{id: 10751, name: 'Family'},\n{id: 14, name: 'Fantasy'},\n{id: 36, name: 'History'},\n{id: 27, name: 'Horror'},\n{id: 10402, name: 'Music'},\n{id: 9648, name: 'Mystery'},\n{id: 10749, name: 'Romance'},\n{id: 878, name: 'Science Fiction'},\n{id: 10770, name: 'TV Movie'},\n{id: 53, name: 'Thriller'},\n{id: 10752, name: 'War'},\n{id: 37, name: 'Western'},\n]\n\nexport function renderGenres(itemsId, allGenres) {\n    const newGenre = [];\n    itemsId.map(id => {\n        for (const genre of allGenres) {\n            if (genre.id === id) {\n                newGenre.push(genre.name)\n            }\n            \n        }\n    })\n    return newGenre.join(' ')\n}","import { allGenres, renderGenres } from './genres'\n\nconst refs = {\n  cardList: document.querySelector('.card-list'),\n  contentText: document.querySelector('.content')\n}\n\nexport function MoviesCards (results){\n  const markup = results.map(\n    ({ title, id, poster_path, release_date, genre_ids }) => {\n      const genreName = renderGenres(genre_ids, allGenres)\n        return `<li class=\"list card-item\">\n            <a href=\"\" class=\"link\"></a>\n            <div class=\"image_thumb\">\n                <img src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\" id=\"${id}\" loading=\"lazy\">\n                <div class=\"content\">\n                <h2 class=\"content_title\">${title}</h2>\n                <p class=\"content_text\">${genreName} | ${release_date}</p>\n            </div>\n            </div>\n            \n        </li>`}).join(' ');\n  refs.cardList.innerHTML = markup;\n};\n\n\n\n","import { fetchMovies } from \"./fetch-gallery\";\nimport { MoviesCards } from \"./gallery-tpl\";\n\nrenderStartPage();\n\nexport function renderStartPage() {\n    fetchMovies().then(response => {\n        response.results\n        MoviesCards(response.results);\n    })\n}\n\n\n\n\n\n\n \n\n","import './sass/main.scss';\n\nimport './JS/header/header';\nimport defaultExport from \"./js/team-modal\";\n\n// import \"./js/cinema-modal\";\n\n\nimport {fetchCard} from './js/gallery/render-page-gall';\n\n\n\n"]}